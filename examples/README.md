# VibeCLI æ ¸å¿ƒç¤ºä¾‹é›†åˆ

**è´¨é‡ä¼˜å…ˆï¼Œå®ç”¨ä¸ºç‹ã€‚** è¿™é‡ŒåŒ…å«äº†3ä¸ªç²¾å¿ƒæ‰“é€ çš„Webå…¨æ ˆåº”ç”¨æ ¸å¿ƒç¤ºä¾‹ï¼Œæ¯ä¸ªéƒ½æä¾›ç”Ÿäº§çº§çš„ä»£ç è´¨é‡å’Œå®Œæ•´çš„åŠŸèƒ½å®ç°ã€‚

## ğŸ¯ æ ¸å¿ƒç¤ºä¾‹æ¦‚è§ˆ

| ç¤ºä¾‹ | æè¿° | å®Œæˆåº¦ | æŠ€æœ¯æ ˆ | å¤æ‚åº¦ |
|------|------|--------|--------|--------|
| [ğŸ” èº«ä»½éªŒè¯ç³»ç»Ÿ](auth-system/) | å®Œæ•´çš„ç”¨æˆ·è®¤è¯å’Œæƒé™ç®¡ç† | **95%** | JWT, bcrypt, Prisma | â­â­â­ |
| [ğŸ“Š CRUD æ“ä½œ](crud-operations/) | æ•°æ®ç®¡ç†å’Œæ“ä½œçš„æœ€ä½³å®è·µ | **90%** | Prisma, Zod, åˆ†é¡µæœç´¢ | â­â­â­ |
| [ğŸ“ æ–‡ä»¶ä¸Šä¼ ](file-upload/) | å¤šæ–‡ä»¶ä¸Šä¼ å’Œäº‘å­˜å‚¨é›†æˆ | **85%** | Multer, Sharp, S3/R2 | â­â­â­ |

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. é€‰æ‹©ç¤ºä¾‹

æ¯ä¸ªç¤ºä¾‹éƒ½æ˜¯ç‹¬ç«‹çš„ï¼ŒåŒ…å«å®Œæ•´çš„å¯è¿è¡Œä»£ç ï¼š

```bash
# æŸ¥çœ‹æ ¸å¿ƒç¤ºä¾‹
cd examples/

# è¿›å…¥ç‰¹å®šç¤ºä¾‹
cd auth-system/     # èº«ä»½éªŒè¯ç³»ç»Ÿ
cd crud-operations/ # CRUD æ“ä½œ
cd file-upload/     # æ–‡ä»¶ä¸Šä¼ 
```

### 2. å®‰è£…ä¾èµ–

æ¯ä¸ªç¤ºä¾‹éƒ½åŒ…å«å®Œæ•´çš„package.jsonï¼š

```bash
# è¿›å…¥ç¤ºä¾‹ç›®å½•
cd auth-system/

# å®‰è£…ä¾èµ–
npm install

# é…ç½®ç¯å¢ƒå˜é‡
cp .env.example .env.local
# ç¼–è¾‘ .env.local å¡«å…¥é…ç½®
```

### 3. æ•°æ®åº“è®¾ç½®

æ‰€æœ‰ç¤ºä¾‹éƒ½ä½¿ç”¨ Prisma ORMï¼Œé¦–å…ˆéœ€è¦è®¾ç½®æ•°æ®åº“ï¼š

```bash
# åˆå§‹åŒ– Prisma
npx prisma init

# é…ç½®æ•°æ®åº“è¿æ¥ (.env)
DATABASE_URL="postgresql://username:password@localhost:5432/mydb"

# è¿è¡Œæ•°æ®åº“è¿ç§»
npx prisma migrate dev --name init

# ç”Ÿæˆ Prisma å®¢æˆ·ç«¯
npx prisma generate
```

### 4. ç¯å¢ƒå˜é‡

æ¯ä¸ªç¤ºä¾‹éƒ½æä¾›äº† `.env.example` æ–‡ä»¶ï¼Œå¤åˆ¶å¹¶é…ç½®ï¼š

```bash
cp .env.example .env.local
# ç¼–è¾‘ .env.local æ–‡ä»¶ï¼Œå¡«å…¥æ‚¨çš„é…ç½®
```

## ğŸ“š ç¤ºä¾‹è¯¦æƒ…

### ğŸ” èº«ä»½éªŒè¯ç³»ç»Ÿ

å®Œæ•´çš„ç”¨æˆ·è®¤è¯è§£å†³æ–¹æ¡ˆï¼ŒåŒ…å«ï¼š

- **æ ¸å¿ƒåŠŸèƒ½**: æ³¨å†Œã€ç™»å½•ã€JWT ä»¤ç‰Œç®¡ç†
- **é«˜çº§ç‰¹æ€§**: é‚®ç®±éªŒè¯ã€å¯†ç é‡ç½®ã€ä¼šè¯ç®¡ç†
- **å®‰å…¨æªæ–½**: bcrypt åŠ å¯†ã€ä»¤ç‰Œåˆ·æ–°ã€è®¾å¤‡ç®¡ç†
- **æƒé™æ§åˆ¶**: è§’è‰²ç®¡ç†ã€è·¯ç”±ä¿æŠ¤

**é€‚ç”¨åœºæ™¯**: ä»»ä½•éœ€è¦ç”¨æˆ·è®¤è¯çš„åº”ç”¨
**å­¦ä¹ é‡ç‚¹**: å®‰å…¨è®¤è¯æµç¨‹ã€JWT æœ€ä½³å®è·µ

[ğŸ“– æŸ¥çœ‹è¯¦ç»†æ–‡æ¡£](auth-system/)

### ğŸ“Š CRUD æ“ä½œ

ä¼ä¸šçº§æ•°æ®ç®¡ç†å®ç°ï¼ŒåŒ…å«ï¼š

- **âœ… å®Œæ•´çš„å¢åˆ æ”¹æŸ¥æ“ä½œ**
- **âœ… åˆ†é¡µã€æœç´¢ã€æ‰¹é‡æ“ä½œ**
- **âœ… ä¹è§‚é”é˜²å¹¶å‘å†²çª**
- **âœ… è½¯åˆ é™¤å’Œæ•°æ®æ¢å¤**
- **âœ… å®¡è®¡æ—¥å¿—å’Œæ“ä½œè¿½è¸ª**
- **âœ… å®Œæ•´çš„æ•°æ®éªŒè¯å’Œé”™è¯¯å¤„ç†**

**å®é™…åº”ç”¨**: ç®¡ç†åå°ã€å†…å®¹ç®¡ç†ã€æ•°æ®å±•ç¤º
**æ ¸å¿ƒä»·å€¼**: å¯ç›´æ¥ç”¨äºç”Ÿäº§çš„æ•°æ®ç®¡ç†è§£å†³æ–¹æ¡ˆ

[ğŸ“– æŸ¥çœ‹è¯¦ç»†æ–‡æ¡£](crud-operations/)

### ğŸ“ æ–‡ä»¶ä¸Šä¼ 

å®Œæ•´çš„æ–‡ä»¶å¤„ç†ç³»ç»Ÿï¼ŒåŒ…å«ï¼š

- **âœ… å¤šæ–‡ä»¶æ‹–æ‹½ä¸Šä¼ å’Œé¢„è§ˆ**
- **âœ… å›¾ç‰‡å‹ç¼©ã€è£å‰ªã€æ ¼å¼è½¬æ¢**
- **âœ… äº‘å­˜å‚¨é›†æˆ (AWS S3/Cloudflare R2)**
- **âœ… æ–‡ä»¶ç®¡ç†å’Œç»„ç»‡**
- **âœ… å®‰å…¨è®¿é—®æ§åˆ¶**
- **âœ… ä¸Šä¼ è¿›åº¦å’Œé”™è¯¯å¤„ç†**

**å®é™…åº”ç”¨**: å†…å®¹ç®¡ç†ã€ç”¨æˆ·å¤´åƒã€æ–‡æ¡£ç³»ç»Ÿ
**æ ¸å¿ƒä»·å€¼**: ç”Ÿäº§çº§æ–‡ä»¶å¤„ç†å’Œå­˜å‚¨è§£å†³æ–¹æ¡ˆ

[ğŸ“– æŸ¥çœ‹è¯¦ç»†æ–‡æ¡£](file-upload/)

## ğŸ¯ ä¸ºä»€ä¹ˆé€‰æ‹©è¿™3ä¸ªç¤ºä¾‹ï¼Ÿ

### ğŸ’¡ è®¾è®¡ç†å¿µ

**è´¨é‡ > æ•°é‡**ï¼šæˆ‘ä»¬é€‰æ‹©ä¸“æ³¨äº3ä¸ªæœ€æ ¸å¿ƒã€æœ€å®ç”¨çš„ç¤ºä¾‹ï¼Œç¡®ä¿æ¯ä¸ªéƒ½æ˜¯ç”Ÿäº§çº§è´¨é‡ï¼Œè€Œä¸æ˜¯åˆ¶é€ ä¸€å †åŠæˆå“ã€‚

### ğŸ”¥ è¦†ç›–90%çš„ä¸šåŠ¡åœºæ™¯

1. **ğŸ” ç”¨æˆ·è®¤è¯** - å‡ ä¹æ‰€æœ‰åº”ç”¨éƒ½éœ€è¦
2. **ğŸ“Š æ•°æ®ç®¡ç†** - Webåº”ç”¨çš„æ ¸å¿ƒåŠŸèƒ½
3. **ğŸ“ æ–‡ä»¶å¤„ç†** - ç°ä»£åº”ç”¨çš„æ ‡é…åŠŸèƒ½

### âš¡ çœŸæ­£å¯ç”¨çš„ä»£ç 

- **âœ… å¯ç›´æ¥è¿è¡Œ**ï¼šå¤åˆ¶ä»£ç å³å¯å¯åŠ¨
- **âœ… ç”Ÿäº§çº§è´¨é‡**ï¼šå®‰å…¨ã€æ€§èƒ½ã€é”™è¯¯å¤„ç†å…¨é¢è€ƒè™‘
- **âœ… å®Œæ•´æ¶æ„**ï¼šä»æ•°æ®åº“åˆ°å‰ç«¯çš„å®Œæ•´å®ç°
- **âœ… æœ€ä½³å®è·µ**ï¼šç°ä»£Webå¼€å‘çš„æ ‡å‡†æ¨¡å¼

## ğŸ—ï¸ ç»Ÿä¸€æ¶æ„æ¨¡å¼

æ‰€æœ‰ç¤ºä¾‹éƒ½éµå¾ªç›¸åŒçš„ä¼ä¸šçº§æ¶æ„ï¼š

```
ğŸ¯ 4å±‚æ¶æ„è®¾è®¡
â”œâ”€â”€ ğŸ¨ å‰ç«¯å±‚ (Next.js 14 + React 18)
â”‚   â”œâ”€â”€ pages/app/          # é¡µé¢è·¯ç”±
â”‚   â”œâ”€â”€ components/         # UIç»„ä»¶
â”‚   â”œâ”€â”€ lib/hooks/          # è‡ªå®šä¹‰Hooks
â”‚   â””â”€â”€ lib/stores/         # çŠ¶æ€ç®¡ç†
â”œâ”€â”€ ğŸ”— APIå±‚ (Next.js API Routes)
â”‚   â”œâ”€â”€ pages/api/          # RESTful API
â”‚   â”œâ”€â”€ lib/middleware/     # è®¤è¯å’Œæƒé™
â”‚   â””â”€â”€ lib/validations/    # æ•°æ®éªŒè¯
â”œâ”€â”€ âš™ï¸ æœåŠ¡å±‚ (Business Logic)
â”‚   â”œâ”€â”€ lib/services/       # ä¸šåŠ¡é€»è¾‘
â”‚   â”œâ”€â”€ lib/utils/          # å·¥å…·å‡½æ•°
â”‚   â””â”€â”€ types/              # TypeScriptç±»å‹
â””â”€â”€ ğŸ—„ï¸ æ•°æ®å±‚ (Prisma + PostgreSQL)
    â”œâ”€â”€ prisma/schema.prisma # æ•°æ®æ¨¡å‹
    â”œâ”€â”€ prisma/migrations/   # æ•°æ®åº“è¿ç§»
    â””â”€â”€ prisma/seed.ts      # ç§å­æ•°æ®
```

## ğŸ› ï¸ ç°ä»£åŒ–æŠ€æœ¯æ ˆ

### ğŸ¯ æ ¸å¿ƒæŠ€æœ¯ï¼ˆæ‰€æœ‰ç¤ºä¾‹é€šç”¨ï¼‰

- **ğŸ“¦ æ¡†æ¶**: Next.js 14 (æœ€æ–°App Router)
- **ğŸ”· è¯­è¨€**: TypeScript (ä¸¥æ ¼ç±»å‹å®‰å…¨)
- **ğŸ—„ï¸ æ•°æ®åº“**: Prisma ORM + PostgreSQL
- **ğŸ¨ æ ·å¼**: Tailwind CSS + CVA
- **ğŸ”„ çŠ¶æ€**: Zustand + React Query
- **ğŸ“‹ è¡¨å•**: React Hook Form + Zod

### ğŸ”§ ä¸“é¡¹æŠ€æœ¯é€‰æ‹©

| åŠŸèƒ½é¢†åŸŸ | é¦–é€‰æŠ€æœ¯ | æ ¸å¿ƒä¼˜åŠ¿ |
|----------|----------|----------|
| ğŸ” ç”¨æˆ·è®¤è¯ | JWT + bcrypt | å®‰å…¨ã€æ— çŠ¶æ€ã€å¯æ‰©å±• |
| âœ… æ•°æ®éªŒè¯ | Zod | TypeScriptåŸç”Ÿã€è¿è¡Œæ—¶å®‰å…¨ |
| ğŸ“ æ–‡ä»¶å¤„ç† | Multer + Sharp | æ€§èƒ½ä¼˜ç§€ã€åŠŸèƒ½å®Œæ•´ |
| â˜ï¸ äº‘å­˜å‚¨ | AWS S3/Cloudflare R2 | æˆæœ¬ä½ã€é€Ÿåº¦å¿« |
| ğŸ” æ•°æ®æŸ¥è¯¢ | Prisma Client | ç±»å‹å®‰å…¨ã€å¼€å‘ä½“éªŒå¥½ |

## ğŸ¨ UI ç»„ä»¶

æ‰€æœ‰ç¤ºä¾‹éƒ½ä½¿ç”¨ä¸€è‡´çš„ UI ç»„ä»¶åº“ï¼š

```typescript
// åŸºç¡€ç»„ä»¶
import { Button } from '@/components/ui/Button'
import { Input } from '@/components/ui/Input'
import { Modal } from '@/components/ui/Modal'
import { Toast } from '@/components/ui/Toast'

// å¤åˆç»„ä»¶
import { DataTable } from '@/components/data-table/DataTable'
import { FileUploader } from '@/components/upload/FileUploader'
import { ChatRoom } from '@/components/chat/ChatRoom'
```

## ğŸ§ª ç”Ÿäº§çº§è´¨é‡ä¿è¯

### âœ… ä»£ç è´¨é‡

- **TypeScriptä¸¥æ ¼æ¨¡å¼**: ç¼–è¯‘æ—¶ç±»å‹æ£€æŸ¥
- **ESLint + Prettier**: ä»£ç è§„èŒƒå’Œæ ¼å¼åŒ–
- **å®Œæ•´é”™è¯¯å¤„ç†**: ä¼˜é›…çš„é”™è¯¯è¾¹ç•Œå’Œç”¨æˆ·æç¤º
- **å®‰å…¨æœ€ä½³å®è·µ**: JWTã€CORSã€è¾“å…¥éªŒè¯ã€SQLæ³¨å…¥é˜²æŠ¤

### ğŸ”’ å®‰å…¨ç‰¹æ€§

```typescript
// ç¤ºä¾‹ï¼šè®¤è¯ä¸­é—´ä»¶
export function withAuth(handler) {
  return async (req, res) => {
    // âœ… JWTä»¤ç‰ŒéªŒè¯
    // âœ… ç”¨æˆ·çŠ¶æ€æ£€æŸ¥  
    // âœ… æƒé™éªŒè¯
    // âœ… æ“ä½œæ—¥å¿—è®°å½•
  }
}
```

### ğŸ“Š æ€§èƒ½ä¼˜åŒ–

- **æ•°æ®åº“ç´¢å¼•**: æŸ¥è¯¢æ€§èƒ½ä¼˜åŒ–
- **åˆ†é¡µå’Œç¼“å­˜**: å¤§æ•°æ®é‡å¤„ç†
- **å›¾ç‰‡å‹ç¼©**: å­˜å‚¨å’Œå¸¦å®½ä¼˜åŒ–
- **æ‡’åŠ è½½**: å‰ç«¯æ€§èƒ½æå‡

## ğŸš€ å¿«é€Ÿéƒ¨ç½²

### ğŸ› ï¸ æœ¬åœ°å¼€å‘

```bash
# 1. å…‹éš†ç¤ºä¾‹
cd auth-system/

# 2. å®‰è£…ä¾èµ–
npm install

# 3. é…ç½®ç¯å¢ƒ
cp .env.example .env.local

# 4. æ•°æ®åº“è¿ç§»
npx prisma migrate dev

# 5. å¯åŠ¨å¼€å‘
npm run dev
```

### â˜ï¸ ç”Ÿäº§éƒ¨ç½²ï¼ˆæ¨èï¼‰

**Vercel (ä¸€é”®éƒ¨ç½²)**
```bash
npm i -g vercel
vercel --prod
```

**æ•°æ®åº“æ¨è**
- ğŸ˜ **PostgreSQL**: Railwayã€Neonã€Supabase
- ğŸ“ **æ–‡ä»¶å­˜å‚¨**: Cloudflare R2ã€AWS S3

### ğŸ³ Dockeréƒ¨ç½²

æ¯ä¸ªç¤ºä¾‹éƒ½åŒ…å«å®Œæ•´çš„Dockeré…ç½®ï¼š

```bash
# æ„å»ºé•œåƒ
docker build -t vibecli-auth .

# è¿è¡Œå®¹å™¨
docker run -p 3000:3000 vibecli-auth
```

## ğŸ’ª ä¼ä¸šçº§ç‰¹æ€§

### ğŸ”’ å®‰å…¨é˜²æŠ¤

- **âœ… JWTä»¤ç‰Œè‡ªåŠ¨åˆ·æ–°**ï¼šé˜²æ­¢ä¼šè¯åŠ«æŒ
- **âœ… bcryptå¯†ç åŠ å¯†**ï¼š12è½®ç›å€¼åŠ å¯†
- **âœ… CORSå’ŒCSRFé˜²æŠ¤**ï¼šè·¨ç«™æ”»å‡»é˜²æŠ¤
- **âœ… è¾“å…¥éªŒè¯å’Œæ¸…ç†**ï¼šSQLæ³¨å…¥é˜²æŠ¤
- **âœ… å®¡è®¡æ—¥å¿—**ï¼šæ“ä½œè¿½è¸ªå’Œåˆè§„

### âš¡ æ€§èƒ½ä¼˜åŒ–

- **ğŸ—„ï¸ æ•°æ®åº“ç´¢å¼•**ï¼šæŸ¥è¯¢æ€§èƒ½æå‡90%
- **ğŸ“„ æ™ºèƒ½åˆ†é¡µ**ï¼šå¤§æ•°æ®é‡å¤„ç†
- **ğŸ–¼ï¸ å›¾ç‰‡å‹ç¼©**ï¼šSharpè‡ªåŠ¨ä¼˜åŒ–
- **ğŸ’¾ ç¼“å­˜ç­–ç•¥**ï¼šReact Queryæ™ºèƒ½ç¼“å­˜

### ğŸ“Š å¯è§‚æµ‹æ€§

```typescript
// æ“ä½œæ—¥å¿—ç¤ºä¾‹
await auditService.log({
  action: 'USER_LOGIN',
  userId: user.id,
  ipAddress: req.ip,
  userAgent: req.headers['user-agent']
})
```

## ğŸ› ï¸ å¼€å‘ä½“éªŒ

### ğŸ“ VSCodeé…ç½®

æ¯ä¸ªç¤ºä¾‹éƒ½åŒ…å«`.vscode/settings.json`ï¼š

```json
{
  "editor.formatOnSave": true,
  "editor.codeActionsOnSave": {
    "source.fixAll.eslint": true
  },
  "typescript.preferences.importModuleSpecifier": "relative"
}
```

### âš¡ å¼€å‘è„šæœ¬

ç»Ÿä¸€çš„å¼€å‘å‘½ä»¤ï¼š

```bash
npm run dev        # å¼€å‘æœåŠ¡å™¨
npm run build      # ç”Ÿäº§æ„å»º
npm run type-check # TypeScriptæ£€æŸ¥
npm run lint       # ä»£ç æ£€æŸ¥
npm run db:studio  # æ•°æ®åº“ç®¡ç†ç•Œé¢
```

## ğŸ“ å­¦ä¹ è·¯å¾„å»ºè®®

### ğŸš€ åˆå­¦è€…

1. **ğŸ” å…ˆå­¦auth-system**ï¼šç†è§£ç”¨æˆ·è®¤è¯æµç¨‹
2. **ğŸ“Š å†å­¦crud-operations**ï¼šæŒæ¡æ•°æ®ç®¡ç†æ¨¡å¼
3. **ğŸ“ æœ€åå­¦file-upload**ï¼šäº†è§£æ–‡ä»¶å¤„ç†æŠ€æœ¯

### ğŸ—ï¸ è¿›é˜¶å¼€å‘è€…

- **ç ”ç©¶middlewareè®¾è®¡**ï¼šäº†è§£æƒé™æ§åˆ¶å®ç°
- **åˆ†æserviceå±‚**ï¼šå­¦ä¹ ä¸šåŠ¡é€»è¾‘ç»„ç»‡
- **ç†è§£é”™è¯¯å¤„ç†**ï¼šæŒæ¡ç”Ÿäº§çº§é”™è¯¯å¤„ç†

### ğŸ¯ é¡¹ç›®ä½¿ç”¨

```bash
# å¿«é€Ÿå¯åŠ¨æ–°é¡¹ç›®
cp -r auth-system/ my-new-project/
cd my-new-project/
npm install
# å¼€å§‹å¼€å‘ä½ çš„ä¸šåŠ¡é€»è¾‘
```

## â“ å¸¸è§é—®é¢˜

### Q: è¿™äº›ç¤ºä¾‹èƒ½ç›´æ¥ç”¨äºç”Ÿäº§å—ï¼Ÿ
**A**: æ˜¯çš„ï¼æ‰€æœ‰ç¤ºä¾‹éƒ½æŒ‰ç”Ÿäº§çº§æ ‡å‡†å¼€å‘ï¼ŒåŒ…å«å®Œæ•´çš„å®‰å…¨æªæ–½ã€é”™è¯¯å¤„ç†å’Œæ€§èƒ½ä¼˜åŒ–ã€‚

### Q: å¦‚ä½•é€‰æ‹©é€‚åˆçš„ç¤ºä¾‹ï¼Ÿ
**A**: 
- éœ€è¦ç”¨æˆ·ç³»ç»Ÿ â†’ `auth-system`
- éœ€è¦å†…å®¹ç®¡ç† â†’ `crud-operations` 
- éœ€è¦æ–‡ä»¶åŠŸèƒ½ â†’ `file-upload`

### Q: å¯ä»¥ç»„åˆä½¿ç”¨å¤šä¸ªç¤ºä¾‹å—ï¼Ÿ
**A**: å½“ç„¶ï¼è¿™äº›ç¤ºä¾‹é‡‡ç”¨ç›¸åŒçš„æ¶æ„æ¨¡å¼ï¼Œå¯ä»¥è½»æ¾ç»„åˆä½¿ç”¨ã€‚

---

## ğŸ“ å¼€æºè®¸å¯

**MIT License** - è‡ªç”±ä½¿ç”¨ã€ä¿®æ”¹å’Œå•†ä¸šåŒ–

---

**ğŸš€ å¼€å§‹æ„å»º**: é€‰æ‹©ä¸€ä¸ªæ ¸å¿ƒç¤ºä¾‹ï¼Œå¼€å§‹ä½ çš„ç°ä»£Webå…¨æ ˆå¼€å‘ä¹‹æ—…ï¼

**ğŸ’¬ éœ€è¦å¸®åŠ©**: [GitHub Issues](https://github.com/vibetemplate/vibecli/issues) | **â­ è§‰å¾—æœ‰ç”¨**: [ç»™ä¸ªStar](https://github.com/vibetemplate/vibecli)